# ==================== ENVIRONMENT ====================
NODE_ENV="development"  # development | production | staging
PORT=3001

# ==================== DATABASE ====================
# Development (SQLite)
DATABASE_URL="file:./dev.db"

# Production (PostgreSQL - recommended)
# DATABASE_URL="postgresql://user:password@host:5432/dbname?schema=public"

# ==================== SECURITY ====================
# CRITICAL: Generate a secure secret with:
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET="replace_with_secure_random_secret_minimum_32_characters"

# CORS - Comma-separated list of allowed origins (production only)
ALLOWED_ORIGINS="https://yourdomain.com,https://www.yourdomain.com"

# ==================== PAYMENT GATEWAYS ====================
# Paystack (https://paystack.com)
PAYSTACK_SECRET="sk_test_xxxxxxxxxxxxxxxxxxxx"  # Use sk_live_ for production

# M-Pesa Daraja API (https://developer.safaricom.co.ke)
MPESA_CONSUMER_KEY="your_consumer_key"
MPESA_CONSUMER_SECRET="your_consumer_secret"
MPESA_PASSKEY="your_passkey"
MPESA_SHORTCODE="174379"  # Your business shortcode
MPESA_ENVIRONMENT="sandbox"  # sandbox | production
# Must be a public HTTPS URL for M-Pesa callbacks
MPESA_CALLBACK_URL="https://your-domain.com/api/mpesa/callback"

# ==================== EXTERNAL APIS ====================
# OpenWeatherMap (https://openweathermap.org/api)
OPENWEATHER_API_KEY="your_openweather_api_key"

# ==================== LOGGING & MONITORING ====================
# Log level: error | warn | info | debug
LOG_LEVEL="info"

# Sentry (optional - for error tracking)
# SENTRY_DSN="https://xxxxx@sentry.io/xxxxx"

# ==================== FEATURE FLAGS ====================
ENABLE_FORECAST_API="true"
ENABLE_WEATHER_CACHE="false"
WEATHER_CACHE_TTL_S="600"
HTTP_TIMEOUT_MS="8000"
ENABLE_ANALYTICS_API="true"
ENABLE_ROI_API="true"
ENABLE_WEEKLY_REPORTS="false"
WEEKLY_REPORT_CRON="0 8 * * 1"

# ==================== EMAIL (Optional) ====================
# SMTP_HOST="smtp.gmail.com"
# SMTP_PORT="587"
# SMTP_USER="your-email@gmail.com"
# SMTP_PASS="your-app-password"
# EMAIL_FROM="noreply@yourdomain.com"

# ==================== PRODUCTION NOTES ====================
# 1. Never commit .env files to version control
# 2. Use strong, unique secrets for JWT_SECRET
# 3. Enable HTTPS in production
# 4. Set NODE_ENV=production in production
# 5. Use PostgreSQL for production database
# 6. Configure ALLOWED_ORIGINS for production domains
# 7. Use production API keys for payment gateways
# 8. Set up proper MPESA_CALLBACK_URL with HTTPS
